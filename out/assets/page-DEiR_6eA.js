import{r as d,j as e}from"./index-CZQcH3dO.js";const y=[{id:1,participants:{owner:{name:"Sarah Johnson",avatar:"SJ"},finder:{name:"Mike Chen",avatar:"MC"}},itemName:"Blue Backpack",lastMessage:"Yes, I can meet you at the library tomorrow at 2pm",timestamp:"2024-01-15T14:30:00",unread:2,status:"active",type:"owner-finder",messages:[{id:1,sender:"Sarah Johnson",senderType:"owner",message:"Hi! I saw that you found my blue backpack. Is it still available?",timestamp:"2024-01-15T10:00:00"},{id:2,sender:"Mike Chen",senderType:"finder",message:"Yes! I have it with me. It has a laptop and some textbooks inside.",timestamp:"2024-01-15T10:15:00"},{id:3,sender:"Sarah Johnson",senderType:"owner",message:"That's exactly mine! Can we arrange a time to meet?",timestamp:"2024-01-15T11:00:00"},{id:4,sender:"Mike Chen",senderType:"finder",message:"Sure! I'm usually at the library in the afternoon. Does tomorrow work for you?",timestamp:"2024-01-15T13:45:00"},{id:5,sender:"Sarah Johnson",senderType:"owner",message:"Yes, I can meet you at the library tomorrow at 2pm",timestamp:"2024-01-15T14:30:00"}]},{id:2,participants:{user:{name:"Emily Rodriguez",avatar:"ER"},admin:{name:"Admin",avatar:"A"}},itemName:"Support Request",lastMessage:"I'll look into this and get back to you shortly.",timestamp:"2024-01-15T12:00:00",unread:0,status:"active",type:"user-admin",messages:[{id:1,sender:"Emily Rodriguez",senderType:"user",message:"Hello, I reported a lost phone 3 days ago but haven't received any updates. Can you help?",timestamp:"2024-01-15T11:00:00"},{id:2,sender:"Admin",senderType:"admin",message:"Hi Emily, let me check the status of your report. Can you provide the item name or report ID?",timestamp:"2024-01-15T11:15:00"},{id:3,sender:"Emily Rodriguez",senderType:"user",message:"It's an iPhone 13 Pro, black color. I lost it near the cafeteria.",timestamp:"2024-01-15T11:30:00"},{id:4,sender:"Admin",senderType:"admin",message:"I'll look into this and get back to you shortly.",timestamp:"2024-01-15T12:00:00"}]},{id:3,participants:{owner:{name:"David Kim",avatar:"DK"},finder:{name:"Lisa Wang",avatar:"LW"}},itemName:"Silver Watch",lastMessage:"Great! See you then.",timestamp:"2024-01-14T16:45:00",unread:0,status:"resolved",type:"owner-finder",messages:[{id:1,sender:"David Kim",senderType:"owner",message:"Hi, I believe you found my silver watch?",timestamp:"2024-01-14T14:00:00"},{id:2,sender:"Lisa Wang",senderType:"finder",message:"Yes! I found it in the gym locker room. Does it have an engraving on the back?",timestamp:"2024-01-14T14:30:00"},{id:3,sender:"David Kim",senderType:"owner",message:`Yes, it says "DK 2020". That's mine!`,timestamp:"2024-01-14T15:00:00"},{id:4,sender:"Lisa Wang",senderType:"finder",message:"Perfect! I can meet you at the student center tomorrow at 3pm.",timestamp:"2024-01-14T15:30:00"},{id:5,sender:"David Kim",senderType:"owner",message:"Great! See you then.",timestamp:"2024-01-14T16:45:00"}]},{id:4,participants:{owner:{name:"Jessica Brown",avatar:"JB"},finder:{name:"Tom Anderson",avatar:"TA"}},itemName:"Red Umbrella",lastMessage:"I'm available after 4pm on weekdays.",timestamp:"2024-01-15T09:20:00",unread:1,status:"active",type:"owner-finder",messages:[{id:1,sender:"Jessica Brown",senderType:"owner",message:"Hi! Is the red umbrella you found still available?",timestamp:"2024-01-15T08:00:00"},{id:2,sender:"Tom Anderson",senderType:"finder",message:"Yes, it is! When would you like to pick it up?",timestamp:"2024-01-15T08:30:00"},{id:3,sender:"Jessica Brown",senderType:"owner",message:"I'm available after 4pm on weekdays.",timestamp:"2024-01-15T09:20:00"}]},{id:5,participants:{user:{name:"Alex Martinez",avatar:"AM"},admin:{name:"Admin",avatar:"A"}},itemName:"Claim Question",lastMessage:"Thank you for the clarification!",timestamp:"2024-01-13T10:00:00",unread:0,status:"resolved",type:"user-admin",messages:[{id:1,sender:"Alex Martinez",senderType:"user",message:"I submitted a claim for a laptop but it was rejected. Can you explain why?",timestamp:"2024-01-13T09:00:00"},{id:2,sender:"Admin",senderType:"admin",message:"Hi Alex, your claim was rejected because the serial number you provided didn't match the one on the found laptop.",timestamp:"2024-01-13T09:30:00"},{id:3,sender:"Alex Martinez",senderType:"user",message:"Thank you for the clarification!",timestamp:"2024-01-13T10:00:00"}]}];function w(){const[t,l]=d.useState(y[0]),[i,m]=d.useState(""),[n,o]=d.useState(y),[c,p]=d.useState(!0),x=()=>{if(!i.trim())return;const s={id:t.messages.length+1,sender:"Admin",senderType:"admin",message:i,timestamp:new Date().toISOString()},a=n.map(r=>r.id===t.id?{...r,messages:[...r.messages,s],lastMessage:i,timestamp:new Date().toISOString()}:r);o(a),l({...t,messages:[...t.messages,s]}),m("")},f=()=>{const s=n.map(r=>r.id===t.id?{...r,status:"resolved"}:r);o(s),l({...t,status:"resolved"});const a=document.createElement("div");a.className="fixed top-4 right-4 bg-teal-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",a.textContent="Conversation marked as resolved",document.body.appendChild(a),setTimeout(()=>a.remove(),3e3)},u=s=>{const a=new Date(s);return(new Date().getTime()-a.getTime())/(1e3*60*60)<24?a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):a.toLocaleDateString("en-US",{month:"short",day:"numeric"})},h=s=>s.type==="owner-finder"?`${s.participants.owner.name} & ${s.participants.finder.name}`:`${s.participants.user.name} (Support)`;return e.jsxs("div",{className:"h-[calc(100vh-4rem)] flex bg-gray-50",children:[e.jsxs("div",{className:`${c?"block":"hidden"} lg:block w-full lg:w-80 bg-white border-r border-gray-200 flex flex-col`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversations"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," active threads"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:n.map(s=>e.jsx("div",{onClick:()=>{l(s),p(!1)},className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${t.id===s.id?"bg-teal-50 border-l-4 border-l-teal-600":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:s.type==="owner-finder"?e.jsxs("div",{className:"flex -space-x-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-600 text-white flex items-center justify-center text-sm font-medium border-2 border-white",children:s.participants.owner.avatar}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-medium border-2 border-white",children:s.participants.finder.avatar})]}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600 text-white flex items-center justify-center text-sm font-medium",children:s.participants.user.avatar})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:h(s)}),s.unread>0&&e.jsx("span",{className:"ml-2 bg-teal-600 text-white text-xs font-medium px-2 py-0.5 rounded-full whitespace-nowrap",children:s.unread})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:s.itemName}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:s.lastMessage}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:u(s.timestamp)}),s.status==="resolved"&&e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full whitespace-nowrap",children:"Resolved"})]})]})]})},s.id))})]}),e.jsx("div",{className:`${c?"hidden":"block"} lg:block flex-1 flex flex-col bg-white`,children:t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>p(!0),className:"lg:hidden text-gray-600 hover:text-gray-900",children:e.jsx("i",{className:"ri-arrow-left-line text-xl"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:h(t)}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:t.itemName}),t.type==="owner-finder"&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full whitespace-nowrap",children:"Owner ↔ Finder"}),t.type==="user-admin"&&e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full whitespace-nowrap",children:"User ↔ Admin"})]})]})]}),t.status==="active"&&e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-check-line mr-2"}),"Mark as Resolved"]})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("i",{className:"ri-information-line"}),e.jsx("span",{children:"Admin Monitoring: You can view and participate in all conversations"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:t.messages.map(s=>{const a=s.senderType==="admin",r=s.senderType==="owner";return e.jsx("div",{className:`flex ${a?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-md ${a?"order-2":"order-1"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[!a&&e.jsx("div",{className:`w-6 h-6 rounded-full ${r?"bg-teal-600":"bg-blue-600"} text-white flex items-center justify-center text-xs font-medium`,children:s.sender.split(" ").map(g=>g[0]).join("")}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:s.sender}),e.jsx("span",{className:"text-xs text-gray-400",children:u(s.timestamp)})]}),e.jsx("div",{className:`px-4 py-2 rounded-lg ${a?"bg-teal-600 text-white rounded-tr-none":"bg-white border border-gray-200 text-gray-900 rounded-tl-none"}`,children:e.jsx("p",{className:"text-sm",children:s.message})})]})},s.id)})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:t.status==="resolved"?e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx("i",{className:"ri-check-double-line text-2xl text-green-600 mb-2"}),e.jsx("p",{className:"text-sm",children:"This conversation has been resolved"})]}):e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("textarea",{value:i,onChange:s=>m(s.target.value),onKeyDown:s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),x())},placeholder:"Type your message...",rows:1,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 resize-none text-sm"}),e.jsx("button",{onClick:x,disabled:!i.trim(),className:"px-6 py-2 bg-teal-600 text-white font-medium rounded-lg hover:bg-teal-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed whitespace-nowrap",children:e.jsx("i",{className:"ri-send-plane-fill"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-message-3-line text-6xl mb-4"}),e.jsx("p",{className:"text-lg",children:"Select a conversation to start messaging"})]})})})]})}export{w as default};
//# sourceMappingURL=page-DEiR_6eA.js.map
