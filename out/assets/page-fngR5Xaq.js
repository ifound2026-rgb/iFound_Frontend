import{r as d,j as e}from"./index-CZQcH3dO.js";import{N as h,F as b}from"./Footer-Cv3nYjzq.js";import{c as f}from"./foundItems-BESXQ6Z3.js";function v(){const[t,n]=d.useState({itemName:"",category:"",description:"",location:"",dateLost:"",ownerName:"",email:"",phone:"",image:""}),[o,i]=d.useState(null),[x,c]=d.useState(!1),a=s=>{n({...t,[s.target.name]:s.target.value})},u=s=>{const r=s.target.files?.[0];if(r){const l=new FileReader;l.onloadend=()=>{i(l.result)},l.readAsDataURL(r)}},p=async s=>{s.preventDefault();try{const r=localStorage.getItem("token"),l={...t};o&&(l.image=o);const m=await fetch("https://ifound-backend-h1le.onrender.com/api/lost",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(l)});if(!m.ok)throw new Error("Failed to submit lost item");const g=await m.json();console.log("Lost item saved:",g),c(!0),setTimeout(()=>{c(!1),n({itemName:"",category:"",description:"",location:"",dateLost:"",ownerName:"",email:"",phone:"",image:""}),i(null)},3e3)}catch(r){console.error("Error submitting lost item:",r),alert("There was a problem submitting your report. Please try again.")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white",children:[e.jsx(h,{}),e.jsx("div",{className:"pt-32 pb-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-search-line text-3xl text-red-600"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Report Lost Item"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below with as much detail as possible to help us find your lost item"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Item Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"itemName",value:t.itemName,onChange:a,required:!0,placeholder:"e.g., Blue Backpack",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"category",value:t.category,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Select a category"}),f.filter(s=>s!=="All Categories").map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Date Lost ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"dateLost",value:t.dateLost,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Location Lost ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"location",value:t.location,onChange:a,required:!0,placeholder:"e.g., Library 2nd Floor",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Upload Photo"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-teal-500 transition-colors cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer",children:o?e.jsxs("div",{children:[e.jsx("img",{src:o,alt:"Preview",className:"max-h-48 mx-auto rounded-lg mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to change image"})]}):e.jsxs("div",{children:[e.jsx("i",{className:"ri-image-add-line text-4xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 10MB"})]})})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"description",value:t.description,onChange:a,required:!0,rows:4,placeholder:"Provide detailed description including color, brand, size, distinctive features...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm resize-none"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 mt-4",children:"Contact Information"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Your Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"ownerName",value:t.ownerName,onChange:a,required:!0,placeholder:"Full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:a,required:!0,placeholder:"your.email@school.edu",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:a,required:!0,placeholder:"+1 (555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm"})]})]}),e.jsxs("div",{className:"mt-8 flex gap-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 px-6 py-4 bg-teal-600 text-white rounded-lg font-semibold hover:bg-teal-700 transition-all shadow-lg hover:shadow-xl whitespace-nowrap",children:[e.jsx("i",{className:"ri-send-plane-line mr-2"}),"Submit Report"]}),e.jsx("button",{type:"button",onClick:()=>{n({itemName:"",category:"",description:"",location:"",dateLost:"",ownerName:"",email:"",phone:"",image:""}),i(null)},className:"px-6 py-4 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-all whitespace-nowrap",children:"Clear Form"})]})]})})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full shadow-2xl",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-checkbox-circle-line text-4xl text-green-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Report Submitted!"}),e.jsx("p",{className:"text-gray-600 text-center",children:"Your lost item report has been submitted successfully. We'll notify you if we find a match."})]})}),e.jsx(b,{})]})}export{v as default};
//# sourceMappingURL=page-fngR5Xaq.js.map
